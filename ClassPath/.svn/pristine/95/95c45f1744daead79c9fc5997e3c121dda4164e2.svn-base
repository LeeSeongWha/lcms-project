<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="jakarta.tags.core" prefix="c" %>
<%-- <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%> --%>

<%-- 
    파일명 : studentDetail.jsp
    프로그렴명 : 학생 상세 조회 화면
    설 명 : 학생 상세 정보 조회 [이름/학번/학과/[학년/학기]/계좌/이메일/전화번호/주소/생년월일/상태]
    작성자 : 양 수 민
    작성일 : 2025. 07. 01 
--%>
<link rel="stylesheet" href="/dist/assets/css/bodyFormat.css">   
	<c:set var="editable" value="${mode eq 'edit'}"/>

	<title>학생 상세 정보</title>
	
  	<form action="/staff/studentmanage/studentUpdateProcess.do" method="post">
<%-- 		<c:if test="${editable}"> --%>
		<c:url value="/staff/studentmanage/studentUpdate.do" var="updateURL">
			<c:param name="what" value="${student.user.userNo }" />
		</c:url>
		<c:if test="${!editable}">
		  <a class="btn btn-primary" href="/staff/studentmanage/studentUpdate.do?what=${student.user.userNo}">
		    수정 폼으로...
		  </a>
		</c:if>
		<c:if test="${editable}">
			<button class="btn btn-success" type="submit">저장</button>
			<hr>
		</c:if>
		
			<label class="form-label" for="userNo">학번</label>
			<input type="text" id="userNo" name="user.userNo" value="${student.user.userNo}" class="form-control" readonly />

			
			<label class="form-label" for="userName">이름</label>
			<input type="text" id="userName" name="user.userName" value="${student.user.userName}" class="form-control" <c:if test="${!editable}">readonly</c:if> />
			
			
			<label class="form-label" for="departmentNo">학과</label>
			<c:choose>
				<c:when test="${editable}">
					<select id="departmentNo" name="student.departmentNo" class="form-select">
						<option value="DP001" <c:if test="${student.departmentNo == 'DP001'}">selected</c:if>>컴퓨터공학과</option>
						<option value="DP002" <c:if test="${student.departmentNo == 'DP002'}">selected</c:if>>전자공학과</option>
						<option value="DP003" <c:if test="${student.departmentNo == 'DP003'}">selected</c:if>>시각디자인학과</option>
						<option value="DP004" <c:if test="${student.departmentNo == 'DP004'}">selected</c:if>>소프트웨어학과</option>
						<option value="DP005" <c:if test="${student.departmentNo == 'DP005'}">selected</c:if>>국어국문학과</option>
					</select>
				</c:when>
				<c:otherwise>
					<input type="text" id="departmentNo" name="student.departmentNo" value="
					<c:choose>
						<c:when test='${student.departmentNo == "DP001"}'>컴퓨터공학과</c:when>
						<c:when test='${student.departmentNo == "DP002"}'>전자공학과</c:when>
						<c:when test='${student.departmentNo == "DP003"}'>시각디자인학과</c:when>
						<c:when test='${student.departmentNo == "DP004"}'>소프트웨어학과</c:when>
						<c:when test='${student.departmentNo == "DP005"}'>국어국문학과</c:when>
				    </c:choose>" class="form-control" readonly />
				</c:otherwise>
			</c:choose>
			<p>${student.departmentNo}</p>
			
			<label class="form-label" for="studentGrade">학년</label>
			<input type="text" id="studentGrade" name="studentGrade" value="${student.studentGrade}" class="form-control" <c:if test="${!editable}">readonly</c:if> />


			<label class="form-label" for="userEmail">이메일</label>
			<input type="text" id="userEmail" name="user.userEmail" value="${student.user.userEmail}" class="form-control" <c:if test="${!editable}">readonly</c:if> />
				
			
			<label class="form-label" for="userTel">전화번호</label>
			<input type="text" id="userTel" name="user.userTel" value="${student.user.userTel}" class="form-control" <c:if test="${!editable}">readonly</c:if> />


			
			
			<label class="form-label" for="userRegno1">생일</label>
			<input type="text" id="userRegno1" name="user.userRegno1" value="${student.user.userRegno1}" class="form-control" <c:if test="${!editable}">readonly</c:if> />
			
			
			<label class="form-label" for="userAdd1">기본 주소</label>
			<input type="text" id="userAdd1" name="user.userAdd1" value="${student.user.userAdd1}" class="form-control" <c:if test="${!editable}">readonly</c:if>/>
			
			
			<label class="form-label" for="userAdd2">상세 주소</label>
			<input type="text" id="userAdd2" name="user.userAdd2" value="${student.user.userAdd2}" class="form-control"<c:if test="${!editable}">readonly</c:if> />
			
			
			<label class="form-label" for="bankCd">은행</label>
			<c:choose>
				<c:when test="${editable}">
					<select id="bankCd" name="user.bankCd" class="form-select">
						<option value="KB" <c:if test="${student.user.bankCd == 'KB'}">selected</c:if>>국민</option>
						<option value="NH" <c:if test="${student.user.bankCd == 'NH'}">selected</c:if>>농협</option>
						<option value="WR" <c:if test="${student.user.bankCd == 'WR'}">selected</c:if>>우리</option>
						<option value="SH" <c:if test="${student.user.bankCd == 'SH'}">selected</c:if>>신한</option>
					</select>
				</c:when>
				<c:otherwise>
					<input type="text" id="bankCd" name="user.bankCd" value="
					<c:choose>
							<c:when test='${student.user.bankCd == "KB"}'>국민</c:when>
							<c:when test='${student.user.bankCd == "NH"}'>농협</c:when>
							<c:when test='${student.user.bankCd == "WR"}'>우리</c:when>
							<c:when test='${student.user.bankCd == "SH"}'>신한</c:when>
							<c:otherwise>${student.user.bankCd}</c:otherwise>
					  </c:choose>" class="form-control" readonly />
				</c:otherwise>
			</c:choose>



			<label class="form-label" for="userBankno">계좌번호</label>
			<input type="text" id="userBankno" name="user.userBankno" value="${student.user.userBankno}" class="form-control" <c:if test="${!editable}">readonly</c:if>/>
			
	</form>
<%-- 	</c:if> --%>