<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="jakarta.tags.core" prefix="c" %>

<%--
    파일명 : facilityDetail.jsp
    프로그렴명 : 시설 상세 조회 화면
    설 명 : 등록된 시설물의 상세 정보와 이용가능 시간을 조회할 수 있음.
    작성자 : 양 수 민
    작성일 : 2025. 07. 01
--%>	


<c:set var="editable" value="${mode eq 'edit'}"/>

  <title>시설 상세 정보 - LCMS 관리자</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <div class="max-w-4xl mx-auto bg-white rounded-xl shadow p-6">
    <div class="flex justify-between items-center mb-6">
      <a href="/staff/facility/facilityList.do" class="text-blue-600 hover:underline text-sm">← 목록으로 돌아가기</a>
		<div>
			<form method="post" action="/staff/facility/facilityUpdateProcess.do" class="inline-block">

				<c:if test="${editable}">
					<button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">저장</button>
					<a href="/staff/facility/facilityList.do" class="ml-2 text-gray-600 hover:text-red-500">취소</a>
				</c:if>


				<c:if test="${!editable}">
					<c:url value="/staff/facility/facilityUpdate.do" var="updateURL">
						<c:param name="what" value="${facility.facilityNo }" />
					</c:url>
					<a href="${updateURL }"
						class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">수정</a>
				</c:if>
		</div>
	</div>

    <div class="grfacilityNo grfacilityNo-cols-1 md:grfacilityNo-cols-2 gap-6">
      <!-- 기본 정보 -->
      <div>
        <h3 class="text-lg font-semibold mb-2">🏢 기본 정보</h3>
        
        <input type="hidden" name="facilityNo" value="${facility.facilityNo}" /> 

        <label class="block mt-4 mb-2 text-sm" for="facilityName">시설명</label>
        <input id="facilityName" name="facilityName" value="${facility.facilityName}" <c:if test="${!editable}">readonly</c:if> class="w-full border px-3 py-2 rounded" />

        <label class="block mt-4 mb-2 text-sm" for="facilityType">시설 유형</label>
        <input id="facilityType" name="facilityType" value="${facility.facilityType}" <c:if test="${!editable}">readonly</c:if> class="w-full border px-3 py-2 rounded" />

        <label class="block mt-4 mb-2 text-sm" for="location">위치</label>
        <input id="location" name="location" value="${facility.location}" <c:if test="${!editable}">readonly</c:if> class="w-full border px-3 py-2 rounded" />

        <label class="block mt-4 mb-2 text-sm" for="facilityMp">수용 인원</label>
        <input id="facilityMp" name="facilityMp" type="number" value="${facility.facilityMp}" <c:if test="${!editable}">readonly</c:if> class="w-full border px-3 py-2 rounded" />
        
        <label class="block mt-4 mb-2 text-sm" for="facilityStatus">시설물 상태</label>
        <input id="facilityStatus" name="facilityStatus" value="${facility.facilityStatus}" <c:if test="${!editable}">readonly</c:if> class="w-full border px-3 py-2 rounded" />
        
      </div>
      
    </div>
   </div>
  </form>

    <!-- 예약 가능 시간대 -->
<!--     <div class="mt-8"> -->
<!--       <h3 class="text-lg font-semibold mb-4">⏰ 예약 가능 시간대</h3> -->
<%--       <c:if test="<%= editable %>"> --%>
<!--         <div class="flex items-center gap-2 mb-4"> -->
<!--           <input type="time" name="newStart" class="border px-3 py-2 rounded"> -->
<!--           <span>~</span> -->
<!--           <input type="time" name="newEnd" class="border px-3 py-2 rounded"> -->
<!--           <button type="button" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">추가</button> -->
<!--         </div> -->
<%--       </c:if> --%>
<!--       <div class="space-y-2"> -->
<%--         <c:forEach var="slot" items="${facility.availableTimeSlots}"> --%>
<!--           <div class="flex justify-between items-center border px-4 py-2 rounded bg-gray-50"> -->
<%--             <span>${slot.start} ~ ${slot.end}</span> --%>
<%--             <c:if test="<%= editable %>"> --%>
<!--               <button type="button" class="text-red-500 hover:text-red-700">삭제</button> -->
<%--             </c:if> --%>
<!--           </div> -->
<%--         </c:forEach> --%>
<%--         <c:if test="${empty facility.availableTimeSlots}"> --%>
<!--           <p class="text-gray-400">등록된 예약 가능 시간대가 없습니다.</p> -->
<%--         </c:if> --%>
<!--       </div> -->
<!--     </div> -->

