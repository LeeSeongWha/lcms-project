<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.pfcp.staff.notice.mapper.NoticeMapper">
	
	<select id="selectBoardList">
		SELECT
			
		    BOARD_NO,
		    BOARD_TITLE,
		    BOARD_CONTENT,
		    WRITER_NO,
		    POST_DATE,
		    UPDATE_DATE,
		    CATEGORY,
		    TYPE_CODE
		FROM
		    BOARD
		ORDER BY UPDATE_DATE DESC
	</select>
	
	<select id="selectBoard" parameterType="String">
		SELECT
		    BOARD_NO,
		    BOARD_TITLE,
		    BOARD_CONTENT,
		    WRITER_NO,
		    POST_DATE,
		    UPDATE_DATE,
		    CATEGORY,
		    TYPE_CODE
		FROM
		    BOARD
		WHERE 
			BOARD_NO = #{boardNo}
	</select>
	
	<update id="updateBoard" parameterType="kr.or.ddit.pfcp.common.vo.BoardVO">
		UPDATE BOARD
		SET
		    BOARD_TITLE = #{boardTitle}
		    , BOARD_CONTENT = #{boardContent}
		    , UPDATE_DATE = TO_CHAR(SYSDATE, 'YYYY-MM-DD HH24:MI')
		    , CATEGORY = #{category}
		WHERE
	        BOARD_NO = #{boardNo}
	</update>
	
	<insert id="insertBoard" parameterType="kr.or.ddit.pfcp.common.vo.BoardVO">
		INSERT INTO board (
		    BOARD_NO,
		    BOARD_TITLE,
		    BOARD_CONTENT,
		    WRITER_NO,
		    POST_DATE,
		    UPDATE_DATE,
		    CATEGORY,
		    TYPE_CODE
		) VALUES ( 'B' || LPAD(BOARD_NO_SEQ.NEXTVAL, 3, '0'),
		           #{boardTitle},
		           #{boardContent},
		           #{writerNo},
		           #{postDate},
		           #{updateDate},
		           #{category},
		           #{typeCode} );
	</insert>
	
</mapper>