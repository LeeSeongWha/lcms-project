<%@ page contentType="text/html;charset=UTF-8" language="java"%>
<%@ taglib uri="jakarta.tags.core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>

<title>ìº˜ë¦°ë”</title>
<link rel="stylesheet" href="/dist/assets/css/bodyFormat.css">
<link
	href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.css"
	rel="stylesheet" />
<script
	src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/locales-all.min.js"></script>

<style>
/* ì „ì²´ ë ˆì´ì•„ì›ƒ */
.calendar-container {
	max-width: 1200px;
	margin: 20px auto;
	padding: 0 20px;
}

/* í˜ì´ì§€ ì œëª© */
.page-title {
	text-align: center;
	margin-bottom: 30px;
	font-size: 1.8em;
	color: #333;
	font-weight: 500;
}

/* í•„í„° ì„¹ì…˜ */
.filter-section {
	background: #f8f9fa;
	border: 1px solid #e9ecef;
	border-radius: 8px;
	padding: 20px;
	margin-bottom: 20px;
}

.filter-row {
	display: flex;
	gap: 20px;
	align-items: end;
	flex-wrap: wrap;
}

.filter-group {
	flex: 1;
	min-width: 150px;
}

.filter-group label {
	display: block;
	margin-bottom: 5px;
	font-weight: 500;
	color: #333;
	font-size: 0.9em;
}

.filter-group select, .filter-group input {
	width: 100%;
	padding: 8px 12px;
	border: 1px solid #ddd;
	border-radius: 4px;
	font-size: 0.9em;
}

.filter-buttons {
	display: flex;
	gap: 10px;
}

/* ë©”ì¸ ë ˆì´ì•„ì›ƒ */
.main-layout {
	display: block;
}

/* ìº˜ë¦°ë” ì˜ì—­ */
.calendar-area {
	background: white;
	border: 1px solid #e9ecef;
	border-radius: 8px;
	padding: 20px;
	margin-bottom: 20px;
}

/* ì¼ì • ë“±ë¡ ë²„íŠ¼ */
.add-schedule-btn {
	text-align: center;
	margin-bottom: 20px;
}

/* ë²„íŠ¼ */
.btn {
	padding: 8px 16px;
	border: none;
	border-radius: 4px;
	font-size: 0.9em;
	cursor: pointer;
	font-weight: 500;
}

.btn-primary {
	background: #007bff;
	color: white;
}

.btn-primary:hover {
	background: #0056b3;
}

.btn-secondary {
	background: #6c757d;
	color: white;
}

.btn-secondary:hover {
	background: #545b62;
}

.btn-danger {
	background: #dc3545;
	color: white;
}

.btn-danger:hover {
	background: #c82333;
}

.btn-outline-primary {
	background: white;
	color: #007bff;
	border: 1px solid #007bff;
}

.btn-outline-primary:hover {
	background: #007bff;
	color: white;
}

.btn-outline-secondary {
	background: white;
	color: #6c757d;
	border: 1px solid #6c757d;
}

.btn-outline-secondary:hover {
	background: #6c757d;
	color: white;
}

.btn-group {
	display: flex;
	gap: 8px;
	margin-top: 20px;
}

.btn-group button {
	flex: 1;
}

/* ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ */
.modal-overlay {
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.5);
	z-index: 9998;
}

/* ì¼ì • ë“±ë¡ ëª¨ë‹¬ */
#scheduleModal {
	display: none;
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background: white;
	border-radius: 8px;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
	z-index: 9999;
	width: 90%;
	max-width: 600px;
	max-height: 90vh;
	overflow: hidden;
	border: 1px solid #dee2e6;
}

.modal-header {
	background: #f8f9fa;
	color: #333;
	padding: 15px 20px;
	border-bottom: 1px solid #dee2e6;
}

.modal-header h3 {
	margin: 0;
	font-size: 1.2em;
	font-weight: 600;
}

.modal-body {
	padding: 20px;
	max-height: 60vh;
	overflow-y: auto;
}

.modal-footer {
	padding: 15px 20px;
	background: #f8f9fa;
	border-top: 1px solid #dee2e6;
	text-align: right;
}

.modal-footer .btn {
	margin-left: 8px;
}

/* ê³µì§€ì‚¬í•­ ì²´í¬ë°•ìŠ¤ */
.notice-box {
	background: #e3f2fd;
	border: 1px solid #bbdefb;
	border-radius: 4px;
	padding: 12px;
	margin-bottom: 20px;
}

.notice-checkbox {
	display: flex;
	align-items: center;
	gap: 8px;
	margin: 0;
}

.notice-checkbox input {
	width: auto;
	margin: 0;
}

.notice-checkbox label {
	margin: 0;
	cursor: pointer;
	font-weight: normal;
	color: #1565c0;
}

/* í¼ í•„ë“œ */
.form-group {
	margin-bottom: 15px;
}

.form-group label {
	display: block;
	margin-bottom: 5px;
	font-weight: 500;
	color: #333;
	font-size: 0.9em;
}

.form-control {
	width: 100%;
	padding: 10px 12px;
	border: 1px solid #ced4da;
	border-radius: 4px;
	font-size: 0.9em;
	transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.form-control:focus {
	outline: none;
	border-color: #007bff;
	box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
}

textarea.form-control {
	min-height: 80px;
	resize: vertical;
}

/* ë‚ ì§œ/ì‹œê°„ ì…ë ¥ ê·¸ë£¹ */
.datetime-group {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 15px;
	margin-bottom: 15px;
}

/* ì¼ì • ìƒì„¸ íŒì—… */
#schedulePopup {
	display: none;
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background: white;
	border-radius: 8px;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
	z-index: 9999;
	min-width: 400px;
	max-width: 500px;
	border: 1px solid #dee2e6;
}

.popup-header {
	background: #f8f9fa;
	color: #333;
	padding: 15px 20px;
	border-bottom: 1px solid #dee2e6;
}

.popup-header h3 {
	margin: 0;
	font-size: 1.1em;
	font-weight: 600;
}

.popup-body {
	padding: 20px;
	line-height: 1.6;
}

.popup-body strong {
	display: block;
	margin-bottom: 8px;
	color: #333;
	font-weight: 500;
}

.popup-footer {
	padding: 15px 20px;
	background: #f8f9fa;
	border-top: 1px solid #dee2e6;
	text-align: right;
}

.popup-footer .btn {
	margin-left: 8px;
}

/* ë°˜ì‘í˜• */
@media ( max-width : 768px) {
	.main-layout {
		grid-template-columns: 1fr;
		gap: 20px;
	}
	.filter-row {
		flex-direction: column;
		align-items: stretch;
	}
	.filter-group {
		min-width: auto;
	}
	.filter-buttons {
		justify-content: stretch;
	}
	.filter-buttons button {
		flex: 1;
	}
	.btn-group {
		flex-direction: column;
	}
	.calendar-container {
		padding: 0 10px;
	}
	.datetime-group {
		grid-template-columns: 1fr;
		gap: 10px;
	}
	#scheduleModal {
		width: 95%;
		max-width: none;
	}
	#schedulePopup {
		min-width: 90%;
	}
}

/* FullCalendar ì»¤ìŠ¤í…€ */
.fc-button-primary {
	background: #007bff;
	border-color: #007bff;
}

.fc-button-primary:hover {
	background: #0056b3;
	border-color: #004085;
}

.fc-event {
	border-radius: 4px;
	font-size: 0.85em;
}

.fc-daygrid-day {
	cursor: pointer;
}

.fc-daygrid-day:hover {
	background-color: #f8f9fa;
}

#error {
	color: #dc3545;
	font-size: 0.8em;
	margin-top: 5px;
}


/* ìƒì„¸ë³´ê¸°í™”ë©´ */
#schedulePopup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  z-index: 9999;
  width: 80%;         /* ê¸°ì¡´ë³´ë‹¤ ì¢ê²Œ */
  max-width: 400px;   /* ìµœëŒ€ í­ ì œí•œ */
  min-width: 300px;   /* ë„ˆë¬´ ì‘ì§€ ì•Šê²Œ ìµœì†Œ í­ ì„¤ì • */
  border: 1px solid #dee2e6;
}

.popup-body {
  padding: 20px;
  line-height: 1.6;
  max-height: 300px;
  overflow-y: auto;
}


</style>

<div class="calendar-container">
	<!-- í˜ì´ì§€ ì œëª© -->
	<h1 class="page-title">ìº˜ë¦°ë”</h1>

	<!-- í•„í„° ì„¹ì…˜ -->
	<div class="filter-section">
		<div class="filter-row">
			<div class="filter-group">
				<label for="filterType">ì¼ì • ìœ í˜•</label> <select id="filterType"
					class="form-control">
					<option value="">ì „ì²´</option>
					<c:forEach var="type" items="${scheduleTypes}">
						<option value="${type.scheduleTypeNo}">${type.scheduleTypeName}</option>
					</c:forEach>
				</select>
			</div>
			<div class="filter-group">
				<label for="filterStart">ì‹œì‘ì¼</label> <input type="date"
					id="filterStart" class="form-control" />
			</div>
			<div class="filter-group">
				<label for="filterEnd">ì¢…ë£Œì¼</label> <input type="date" id="filterEnd"
					class="form-control" />
			</div>
			<div class="filter-buttons">
				<button type="button" id="filterBtn" class="btn btn-outline-primary">ğŸ”
					ê²€ìƒ‰</button>
				<button type="button" id="resetFilterBtn"
					class="btn btn-outline-secondary">ğŸ”„ ì´ˆê¸°í™”</button>
			</div>
		</div>
	</div>

	<!-- ì¼ì • ë“±ë¡ ë²„íŠ¼ -->
	<div class="add-schedule-btn">
		<button type="button" id="addScheduleBtn" class="btn btn-primary">+
			ìƒˆ ì¼ì • ë“±ë¡</button>
	</div>

	<!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
	<div class="main-layout">
		<!-- ìº˜ë¦°ë” ì˜ì—­ -->
		<div class="calendar-area">
			<div id="calendar"></div>
		</div>
	</div>
</div>

<!-- ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ -->
<div id="modalOverlay" class="modal-overlay"></div>

<!-- ì¼ì • ë“±ë¡ ëª¨ë‹¬ -->
<div id="scheduleModal">
	<div class="modal-header">
		<h3 id="modalTitle">ì¼ì • ë“±ë¡</h3>
	</div>
	<div class="modal-body">
		<form:form id="scheduleForm" method="post" action="/schedule.do/save"
			modelAttribute="scheduleVO">
			<input type="hidden" id="scheduleNo" name="scheduleNo" />
			<input type="hidden" id="formMode" name="formMode" value="insert" />

			<c:if test="${userRole eq 'ROLE_STAFF' }">
				<label> <input type="checkbox" name="isNotice" value="true" />
					ê³µì§€ì‚¬í•­ìœ¼ë¡œ ë“±ë¡
				</label>
			</c:if>

			<div class="form-group">
				<label for="scheduleTitle">ì¼ì • ì œëª© *</label>
				<form:input path="scheduleTitle" id="scheduleTitle"
					cssClass="form-control" required="required"
					placeholder="ì¼ì • ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" />
				<form:errors path="scheduleTitle" cssClass="error" />
			</div>

			<div class="form-group">
				<label for="scheduleType">ì¼ì • ìœ í˜• *</label>
				<form:select path="type.scheduleTypeNo" id="scheduleType"
					cssClass="form-control" required="required">
					<form:option value="" label="-- ì¼ì • ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš” --" />
					<form:options items="${scheduleTypes}" itemValue="scheduleTypeNo"
						itemLabel="scheduleTypeName" />
				</form:select>
				<form:errors path="type.scheduleTypeNo" cssClass="error" />
			</div>

			<div class="datetime-group">
				<div class="form-group">
					<label for="startDate">ì‹œì‘ì¼ *</label>
					<form:input path="startDate" id="startDate" type="date"
						cssClass="form-control" required="required" />
					<form:errors path="startDate" cssClass="error" />
				</div>

				<div class="form-group">
					<label for="endDate">ì¢…ë£Œì¼ *</label>
					<form:input path="endDate" id="endDate" type="date"
						cssClass="form-control" required="required" />
					<form:errors path="endDate" cssClass="error" />
				</div>
			</div>

			<div class="datetime-group">
				<div class="form-group">
					<label for="startTime">ì‹œì‘ ì‹œê°„</label>
					<form:input path="startTime" id="startTime" type="time"
						cssClass="form-control" />
					<form:errors path="startTime" cssClass="error" />
				</div>

				<div class="form-group">
					<label for="endTime">ì¢…ë£Œ ì‹œê°„</label>
					<form:input path="endTime" id="endTime" type="time"
						cssClass="form-control" />
					<form:errors path="endTime" cssClass="error" />
				</div>
			</div>

			<div class="form-group">
				<label for="scheduleDesp">ì„¤ëª…</label>
				<form:textarea path="scheduleDesp" id="scheduleDesp"
					cssClass="form-control" placeholder="ì¼ì •ì— ëŒ€í•œ ìƒì„¸ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" />
				<form:errors path="scheduleDesp" cssClass="error" />
			</div>
		</form:form>
	</div>
	<div class="modal-footer">
		<button type="button" onclick="closeModal()" class="btn btn-secondary">ì·¨ì†Œ</button>
		<button type="submit" form="scheduleForm" id="submitBtn"
			class="btn btn-primary">ë“±ë¡</button>
	</div>
</div>

<!-- ì¼ì • ìƒì„¸ íŒì—… -->
<div id="schedulePopup">
	<div class="popup-header">
		<h3>ì¼ì • ìƒì„¸ì •ë³´</h3>
	</div>
	<div class="popup-body">
		<div id="popupContent"></div>
	</div>
	<div class="popup-footer">
		<button id="editBtn" class="btn btn-primary">ìˆ˜ì •</button>
		<button id="deleteBtn" class="btn btn-danger">ì‚­ì œ</button>
		<button onclick="closePopup()" class="btn btn-secondary">ë‹«ê¸°</button>
	</div>
</div>

<script>
	const loginUserNo = '${userNo}';
	let calendar;
	let currentScheduleId = null;
	
	document.addEventListener('DOMContentLoaded', function () {
		const calendarEl = document.getElementById('calendar');
	
		calendar = new FullCalendar.Calendar(calendarEl, {
		    initialView: 'dayGridMonth',
		    locale: 'ko',
		    height: 'auto',
		    headerToolbar: {
		        left: 'prev,next today',
		        center: 'title',
		        right: 'dayGridMonth'
		    },
		    // ë‚ ì§œ í´ë¦­ ì´ë²¤íŠ¸ - ì„ íƒí•œ ë‚ ì§œë¥¼ ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ë¡œ ì„¤ì •
		    dateClick: function(info) {
		        console.log('í´ë¦­í•œ ë‚ ì§œ:', info.dateStr);
		        
		        // í¼ì„ ì´ˆê¸°í™”
		        resetForm();
		        
		        // í´ë¦­í•œ ë‚ ì§œë¥¼ ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ë¡œ ì„¤ì •
		        document.getElementById("startDate").value = info.dateStr;
		        document.getElementById("endDate").value = info.dateStr;
		        
		        // ëª¨ë‹¬ ì—´ê¸°
		        openModal();
		    },
		    events: {
		    	url: '/schedule.do/list',
		        method: 'GET',
		        eventDataTransform: function (event) {
		            console.log("event color", event.backgroundColor);
		            return {
		                id: event.id,
		                title: event.title,
		                start: event.start,
		                end: event.end,
		                backgroundColor: event.backgroundColor,
		                borderColor: event.borderColor,
		                extendedProps: {
		                    startTime: event.startTime,
		                    endTime: event.endTime,
		                    scheduleDesp: event.scheduleDesp,
		                    type: event.type
		                }
		            };
		        }
		    },
		    eventClick: function (info) {
		        currentScheduleId = info.event.id;

		        fetch("/schedule.do/" + currentScheduleId)
		            .then(res => res.json())
		            .then(dt => {
		                console.log("data>>>>", dt);
						
		                const content = 
		                    "<strong>ì œëª©: " + (dt.scheduleTitle || '') + "</strong>" +
		                    "<strong>ì‹œì‘ì¼: " + (dt.startDate || '') + "</strong>" +
		                    "<strong>ì¢…ë£Œì¼: " + (dt.endDate || '') + "</strong>" +
		                    "<strong>ì‹œê°„: " + (dt.startTime || 'ì‹œê°„ ì—†ìŒ') + " ~ " + (dt.endTime || 'ì‹œê°„ ì—†ìŒ') + "</strong>" +
		                    "<strong>ìœ í˜•: " + (dt.type ? dt.type.scheduleTypeName : 'ì—†ìŒ') + "</strong>" +
		                    "<strong>ì„¤ëª…: " + (dt.scheduleDesp || 'ì„¤ëª… ì—†ìŒ') + "</strong>";
		                document.getElementById("popupContent").innerHTML = content;
		             // ìˆ˜ì • ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€
		                if (dt.user.userNo === loginUserNo) {
		                  document.getElementById("editBtn").style.display = "inline-block";
		                  document.getElementById("deleteBtn").style.display = "inline-block";
		                } else {
		                  document.getElementById("editBtn").style.display = "none";
		                  document.getElementById("deleteBtn").style.display = "none";
		                }
		                document.getElementById("schedulePopup").style.display = "block";
		                document.getElementById("modalOverlay").style.display = "block";
		            });
		    }
		});
	
		calendar.render();

		// ìƒˆ ì¼ì • ë“±ë¡ ë²„íŠ¼
		document.getElementById("addScheduleBtn").addEventListener("click", function () {
			resetForm();
			openModal();
		});

		// ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ í´ë¦­ ì‹œ ëª¨ë‹¬ ë‹«ê¸°
		document.getElementById("modalOverlay").addEventListener("click", function () {
			closeModal();
			closePopup();
		});
	
		// ìˆ˜ì • ë²„íŠ¼
		document.getElementById("editBtn").addEventListener("click", function () {
		    fetch("/schedule.do/" + currentScheduleId)
		        .then(res => res.json())
		        .then(data => {
		            document.getElementById("scheduleNo").value = data.scheduleNo || '';
		            document.getElementById("scheduleTitle").value = data.scheduleTitle || '';
		            document.getElementById("startDate").value = data.startDate || '';
		            document.getElementById("endDate").value = data.endDate || '';
		            document.getElementById("startTime").value = data.startTime || '';
		            document.getElementById("endTime").value = data.endTime || '';
		            document.getElementById("scheduleType").value = (data.type ? data.type.scheduleTypeNo : '') || '';
		            document.getElementById("scheduleDesp").value = data.scheduleDesp || '';
		            document.getElementById("formMode").value = "update";
		            document.getElementById("submitBtn").textContent = "ìˆ˜ì •";
		            document.getElementById("modalTitle").textContent = "ì¼ì • ìˆ˜ì •";
		            
		            closePopup();
		            openModal();
		        });
		});

		// ì‚­ì œ ë²„íŠ¼
		document.getElementById("deleteBtn").addEventListener("click", function () {
		    if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
		        fetch("/schedule.do/" + currentScheduleId, {
		            method: 'DELETE'
		        })
		        .then(res => res.json())
		        .then(result => {
		            if (result.result === 'success') {
		                alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
		                calendar.refetchEvents();
		            } else {
		                alert("ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
		            }
		        });
		        closePopup();
		    }
		});
		
		// í•„í„° ê²€ìƒ‰ ë²„íŠ¼
		document.getElementById("filterBtn").addEventListener("click", function () {
			const scheduleTypeNo = document.getElementById("filterType").value;
			const startDate = document.getElementById("filterStart").value;
			const endDate = document.getElementById("filterEnd").value;

			calendar.getEventSources().forEach(source => source.remove());

			calendar.addEventSource({
				url: "/schedule.do/list",
				method: "GET",
				extraParams: {
					scheduleTypeNo: scheduleTypeNo,
					startDate: startDate,
					endDate: endDate
				},
				failure: function () {
					alert("ì¼ì • ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
				}
			});
		});
		
		// í•„í„° ì´ˆê¸°í™” ë²„íŠ¼
		document.getElementById("resetFilterBtn").addEventListener("click", function () {
			document.getElementById("filterType").value = "";
			document.getElementById("filterStart").value = "";
			document.getElementById("filterEnd").value = "";

			calendar.getEventSources().forEach(source => source.remove());

			calendar.addEventSource({
				url: "/schedule.do/list",
				method: "GET",
				failure: function () {
					alert("ì¼ì • ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
				}
			});
		});

		// ì‹œì‘ì¼ ë³€ê²½ ì‹œ ì¢…ë£Œì¼ ìë™ ì„¤ì •
		document.getElementById("startDate").addEventListener("change", function() {
			const startDate = this.value;
			const endDateInput = document.getElementById("endDate");
			
			// ì¢…ë£Œì¼ì´ ì‹œì‘ì¼ë³´ë‹¤ ë¹ ë¥´ë©´ ì‹œì‘ì¼ê³¼ ê°™ê²Œ ì„¤ì •
			if (endDateInput.value && endDateInput.value < startDate) {
				endDateInput.value = startDate;
			}
			
			// ì¢…ë£Œì¼ì´ ë¹„ì–´ìˆìœ¼ë©´ ì‹œì‘ì¼ê³¼ ê°™ê²Œ ì„¤ì •
			if (!endDateInput.value) {
				endDateInput.value = startDate;
			}
		});
	});
	
	function openModal() {
	    document.getElementById("scheduleModal").style.display = "block";
	    document.getElementById("modalOverlay").style.display = "block";
	}
	
	function closeModal() {
	    document.getElementById("scheduleModal").style.display = "none";
	    document.getElementById("modalOverlay").style.display = "none";
	}
	
	function closePopup() {
	    document.getElementById("schedulePopup").style.display = "none";
	    document.getElementById("modalOverlay").style.display = "none";
	}
	
	// í¼ ì´ˆê¸°í™” í•¨ìˆ˜
	function resetForm() {
		document.getElementById("scheduleNo").value = "";
		document.getElementById("scheduleTitle").value = "";
		document.getElementById("startDate").value = "";
		document.getElementById("endDate").value = "";
		document.getElementById("startTime").value = "";
		document.getElementById("endTime").value = "";
		document.getElementById("scheduleType").value = "";
		document.getElementById("scheduleDesp").value = "";
		document.getElementById("formMode").value = "insert";
		document.getElementById("submitBtn").textContent = "ë“±ë¡";
		document.getElementById("modalTitle").textContent = "ì¼ì • ë“±ë¡";
	}

</script>


<c:if test="${not empty errorMessage}">
	<script>
       alert("${errorMessage}");
   </script>
</c:if>