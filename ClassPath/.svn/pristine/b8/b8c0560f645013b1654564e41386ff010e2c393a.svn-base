<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.pfcp.professor.thesis.mapper.ProfessorThesisMapper">

	<select id="selectThesisList" resultType="kr.or.ddit.pfcp.common.vo.ThesisVO">
		SELECT ROW_NUMBER() OVER(ORDER BY U.USER_NO) AS RNUM
		     , T.THESIS_TITLE
		     , T.SUBMIT_DATE
		     , U.USER_NAME 
		     , CASE
		         WHEN T.FILE_REF_NO IS NULL THEN 'N'
		         ELSE 'Y'
		       END AS FILE_STATUS
		  FROM THESIS T
		  JOIN TB_USER U ON T.USER_NO = U.USER_NO
		  LEFT JOIN FILE_REF F ON T.FILE_REF_NO = F.FILE_REF_NO
	</select>

</mapper>