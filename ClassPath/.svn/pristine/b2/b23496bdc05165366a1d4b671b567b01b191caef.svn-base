<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%--  
	파일명 : studentList.jsp  
	프로그램명 : 학생 전체 조회 화면  
	설명 : 학과별로 학생을 조회할 수 있음. (검색 가능)  
	작성자 : 양 수 민  
	작성일 : 2025. 07. 01  
--%>
   
<link rel="stylesheet" href="/dist/assets/css/bodyFormat.css">      
      
<title>학생 목록 조회</title>


<main class="container">
	<a href="/staff/studentmanage/studentInsert.do">등록</a>
	<h4>학생 목록</h4>
	<table class="table">
		<thead>
			<tr>
				<th>No</th>
				<th>학번</th>
				<th>이름</th>
				<th>학년</th>
				<th>학과</th>
			</tr>
		</thead>
		<tbody>
			<c:choose>
				<c:when test="${not empty student }">
					<c:forEach items="${student }" var="student">
						<c:url value="/staff/studentmanage/studentDetail.do" var="detailURL">
							<c:param name="what" value="${student.userNo }"/>
						</c:url>
						<tr>
							<td>${student.rnum}</td>
							<td>${student.userNo }</td>
							<td>
								<a href="${detailURL }">${student.user.userName }</a>
							</td>
							<td>${student.studentGrade }</td>
							<td>${student.department.departmentName }</td>
						</tr>
					</c:forEach>
				</c:when> 
				
				<c:otherwise>
					<tr>
						<td colspan="4">
							아직 학생 없음.
						</td>
					</tr>
				</c:otherwise>
			</c:choose>
			
		</tbody>
	</table>
</main>
</div>