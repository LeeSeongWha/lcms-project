<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="jakarta.tags.core" prefix="c"%>
<%--  
	파일명 : departmentList.jsp  
	프로그램명 : 학과 상세 조회
	설명 : 
	작성자 : 김규민
	작성일 : 2025. 07. 10
--%>
<link rel="stylesheet" href="/dist/assets/css/bodyFormat.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

	<h1>커리큘럼 등록</h1>
	
	
	<form action="/staff/college/insertCurriculum.do" method="post">
		<!-- 시퀀스 -->
		<!-- <div>
            <label for="curNo">커리큘럼 번호 :</label>
            <input type="text" id="curNo" name="curNo" required>
        </div> -->
        
		<!-- select ajax -->
        <!-- <div>
            <label for="collegeSelect">단과 대학 :</label>
            <select id="collegeSelect" name="collegeNo" required></select>
        </div> -->
        
        <div>
            <label for="subjectName">과목코드 :</label>
            <input type="text" id="subjectName" name="subjectName" required>
        </div>

        <div>
            <label for="departmentNo">학과번호 :</label>
            <select id="departmentNo" name="departmentNo" required></select>
        </div>
        
        <div>
            <label for="reqCode">필수여부 :</label>
            <input type="text" id="reqCode" name="reqCode" required>
        </div>
        
		<div>
			
            <button type="submit">등록</button>
            <button type="button" onclick="location.href='/staff/college/collegeList.do'">단과 목록으로</button>
        	
		</div>
	
	</form>
	
<script type="text/javascript">
$(function(){
	let subjectSelect = $("#subjectSelect");
	
	$.ajax({
		url : "/staff/subjectList.do",
		type : "get",
		success : function(res){
			let html = ``;
			if(res != null){
				res.map(function(v,i){
					html += `
						<option value="\${v.subjectCode}">\${v.subjectName}</option>
					`; 
				});
				subjectSelect.html(html);
			}
		},
		error : function(){
			
		}
	});
});

$(function(){
	let subjectSelect = $("#subjectSelect");
	
	$.ajax({
		url : "/staff/subjectList.do",
		type : "get",
		success : function(res){
			let html = ``;
			if(res != null){
				res.map(function(v,i){
					html += `
						<option value="\${v.subjectCode}">\${v.subjectName}</option>
					`; 
				});
				collegeSelect.html(html);
			}
		},
		error : function(){
			
		}
	});
});
</script>